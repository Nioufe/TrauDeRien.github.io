
<!DOCTYPE html>
<html>
<head>
    <script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="styles/main.css" rel="stylesheet" type="text/css">
    <title>Cast Hello Text</title>
</head>
<body>
<div class="container-full">
    <div class="row top">
        <div class="col-md-12">
          <div class="titleContainer">
            <h1 class="titleH1"><span class="titleSpan">Around The World - Daft Punk - Around The World Album</span></h1>
          </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="customContainer left">
                <h1>
                    Juke'it <span class="glyphicon glyphicon-music"></span>
                </h1>
                <h2>PICSART_NIGHT</h2>
                <p>Chanson propos√©e par:</p>
                <h2>Elisa Gilles</h2>
            </div>
        </div>
        <div class="col-md-4 middle customContainer">
            <div class="row">
                <div class="filler"></div>
                <div class="center_cover">
                    <img src="https://api.deezer.com/album/302127/image?size=big">
                </div>
                <div class="filler">

                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="customContainer right">

            </div>
        </div>
    </div>
    <div class="row futur">
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
        <div class="col-md-1">
            <img class="img-responsive" src="https://api.deezer.com/album/302127/image?size=big">
        </div>
    </div>
    <div class="row bottom">
        <div class="col-md-12">
            <div class="titleContainer">
                <h1 class="titleH1"><span class="titleSpan">Juke'It Best App Ever, So Much Fun, XOXO, Keur Keur, Such Love</span></h1>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js"></script>
<script type="text/javascript">
    window.onload = function() {
        $(function() {
            var scroll_text;
            var $elmt = $('.titleContainer');
            scroll_text = setInterval(function() {
                $elmt.each(function(){
                    scrollText(this);
                });
            }, 28);
        }, function() {
            clearInterval(scroll_text);
            $(".titleH1", this).css({
                left: 0
            });
        });

        var scrollText = function($elmt) {
            var h1 = $(".titleH1", $elmt),
                    width = h1.width(),
                    left = h1.position().left - 1,
                    titleWidth = $('.titleSpan', $elmt).width();
            if(width<titleWidth){
            left = -left > titleWidth ? width : left;
                h1.css({
                    left: left
                });
            }
        };

       // $('.filler').css('height', height/4);
        $('.right,.left').css('height', 430);
        cast.receiver.logger.setLevelValue(0);
        window.castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
        console.log('Starting Receiver Manager');

        // handler for the 'ready' event
        castReceiverManager.onReady = function(event) {
            console.log('Received Ready event: ' + JSON.stringify(event.data));
            window.castReceiverManager.setApplicationState("Application status is ready...");
        };

        // handler for 'senderconnected' event
        castReceiverManager.onSenderConnected = function(event) {
            console.log('Received Sender Connected event: ' + event.data);
            console.log(window.castReceiverManager.getSender(event.data).userAgent);
        };

        // handler for 'senderdisconnected' event
        castReceiverManager.onSenderDisconnected = function(event) {
            console.log('Received Sender Disconnected event: ' + event.data);
            if (window.castReceiverManager.getSenders().length == 0) {
                window.close();
            }
        };

        // handler for 'systemvolumechanged' event
        castReceiverManager.onSystemVolumeChanged = function(event) {
            console.log('Received System Volume Changed event: ' + event.data['level'] + ' ' +
                    event.data['muted']);
        };

        // create a CastMessageBus to handle messages for a custom namespace
        window.messageBus =
                window.castReceiverManager.getCastMessageBus(
                        'urn:x-cast:com.google.cast.sample.helloworld');

        // handler for the CastMessageBus message event
        window.messageBus.onMessage = function(event) {
            console.log('Message [' + event.senderId + ']: ' + event.data);
            // display the message from the sender
            displayText(event.data);
            // inform all senders on the CastMessageBus of the incoming message event
            // sender message listener will be invoked
            window.messageBus.send(event.senderId, event.data);
        }

        // initialize the CastReceiverManager with an application status message
        window.castReceiverManager.start({statusText: "Application is starting"});
        console.log('Receiver Manager started');
    };

    // utility function to display the text message in the input field
    function displayText(text) {
        console.log(text);
       $("#message").html(text);
        window.castReceiverManager.setApplicationState(text);
    };
</script>
</body>
</html>